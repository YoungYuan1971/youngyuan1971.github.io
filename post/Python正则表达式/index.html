<html>
<head>
    <meta charset="utf-8"/>
<meta name="description" content=""/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>Python正则表达式 | YoungYuan&#39;s Tech. Docs.</title>

<link rel="shortcut icon" href="https://youngyuan1971.github.io/favicon.ico?v=1754277884887">

<link href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" rel="stylesheet">
<link rel="stylesheet" href="https://youngyuan1971.github.io/styles/main.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dockerfile.min.js"></script>
<script src="https://cdn.bootcss.com/highlight.js/9.15.10/languages/dart.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/moment@2.27.0/moment.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.min.js"></script>
<!-- DEMO JS -->
<!--<script src="media/scripts/index.js"></script>-->



    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.css">
</head>
<body>
<div class="main gt-bg-theme-color-first">
    <nav class="navbar navbar-expand-lg">
    <div class="navbar-brand">
        <img class="user-avatar" src="/images/avatar.png" alt="头像">
        <div class="site-name gt-c-content-color-first">
            YoungYuan&#39;s Tech. Docs.
        </div>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
        <i class="fas fa-bars gt-c-content-color-first" style="font-size: 18px"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <div class="navbar-nav mr-auto" style="text-align: center">
            
                <div class="nav-item">
                    
                        <a href="/" class="menu gt-a-link">
                            首页
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/archives" class="menu gt-a-link">
                            归档
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/tags" class="menu gt-a-link">
                            标签
                        </a>
                    
                </div>
            
                <div class="nav-item">
                    
                        <a href="/post/about" class="menu gt-a-link">
                            关于
                        </a>
                    
                </div>
            
        </div>
        <div style="text-align: center">
            <form id="gridea-search-form" style="position: relative" data-update="1754277884887" action="/search/index.html">
                <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
                <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
        </div>
    </div>
</nav>

    <div class="post-container">
        <div class="post-detail gt-bg-theme-color-second">
            <article class="gt-post-content">
                <h2 class="post-title">
                    Python正则表达式
                </h2>
                <div class="post-info">
                    <time class="post-time gt-c-content-color-first">
                        · 2023-07-30 ·
                    </time>
                    
                        <a href="https://youngyuan1971.github.io/tag/foWjT1Deq/" class="post-tags">
                            # Python相关
                        </a>
                    
                </div>
                <div class="post-content">
                    <blockquote>
<h2 id="正则表达式简介">正则表达式简介</h2>
<p><strong>正则表达式，是一个特殊的字符序列，又称规则表达式（英语：Regular Expression，在代码中常简写为regex、regexp 或RE），本质而言是一种小型的，高度专业化的编程语言。</strong></p>
<p><strong>Python 自1.5版本起增加了re 模块，re 模块使Python语言拥有全部的正则表达式功能。</strong></p>
</blockquote>
<h3 id="正则语法表">正则语法表</h3>
<h4 id="开头结尾">开头结尾</h4>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>从整个字符串开头的地方匹配</td>
</tr>
<tr>
<td>$</td>
<td>从整个字符串的结尾开始匹配</td>
</tr>
</tbody>
</table>
<h4 id="模糊匹配">模糊匹配</h4>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>.</td>
<td>匹配任意字符串，除了换行符</td>
</tr>
<tr>
<td>?</td>
<td>重复匹配<code>?</code>号前面0个或1个由前面的正则表达式定义的片段，非贪婪模式</td>
</tr>
<tr>
<td>*</td>
<td>重复匹配<code>*</code>号前面0个或多个的表达式</td>
</tr>
<tr>
<td>+</td>
<td>重复匹配<code>+</code>号前面1个或多个的表达式</td>
</tr>
<tr>
<td>a | b</td>
<td>匹配<code>a</code>或<code>b</code></td>
</tr>
</tbody>
</table>
<h4 id="关于括号">关于括号</h4>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>{}</td>
<td>表示匹配<code>{}</code>前面的字符，指定个数为<code>{}</code>里面的数值</td>
</tr>
<tr>
<td>[]</td>
<td>表示一个字符集，它常被用来制定一个字符串类别，字符可以单个列出，也可以用<code>-</code>号分隔的两个给定字符来表示一个字符区间</td>
</tr>
<tr>
<td>()</td>
<td>分组，将括号中的内容当作整体来对待</td>
</tr>
</tbody>
</table>
<h4 id="反斜杠的应用">&quot;\&quot; 反斜杠的应用</h4>
<table>
<thead>
<tr>
<th>模式</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>\w</td>
<td>匹配字母、数字、下划线</td>
</tr>
<tr>
<td>\W</td>
<td>匹配非字母、非数字、非下划线</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任意空白字符，等价于<code>[\t\n\r\f]</code></td>
</tr>
<tr>
<td>\S</td>
<td>匹配任意非空字符</td>
</tr>
<tr>
<td>\d</td>
<td>匹配任意数字，等价于<code>[0-9]</code></td>
</tr>
<tr>
<td>\D</td>
<td>匹配任意非数字</td>
</tr>
<tr>
<td>\A</td>
<td>匹配字符串开始</td>
</tr>
<tr>
<td>\z</td>
<td>匹配字符串结束</td>
</tr>
<tr>
<td>\Z</td>
<td>匹配字符串结束，如果存在换行，只匹配到换行前的结束字符串</td>
</tr>
<tr>
<td>\G</td>
<td>匹配最后匹配完成的位置</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界，也就是指单词和空格间的位置。例如，<code>er\b</code>可以匹配<code>never</code>中的<code>er</code>，但不能匹配<code>verb</code>中的<code>er</code></td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界，<code>er\B</code>能匹配<code>verb</code>中的<code>er</code>，但不能匹配<code>never</code>中的<code>er</code></td>
</tr>
<tr>
<td>\n,\t ......</td>
<td>匹配一个换行符，匹配一个制表符等</td>
</tr>
<tr>
<td>\1......\9</td>
<td>匹配第n个分组的内容</td>
</tr>
<tr>
<td>\10</td>
<td>匹配第n个分组的内容，如果经匹配，否则指的是八进制字符码的表达式</td>
</tr>
</tbody>
</table>
<h3 id="re模块用法">re模块用法</h3>
<p>re.(function)(pattern[, flags])</p>
<p>pattern : 一个字符串形式的正则表达式</p>
<p>flags : 可选，表示匹配模式，比如忽略大小写，多行模式等，具体参数为：</p>
<ol>
<li>
<p>re.I 忽略大小写</p>
</li>
<li>
<p>re.L 表示特殊字符集 \w, \W, \b, \B, \s, \S 依赖于当前环境</p>
</li>
<li>
<p>re.M 多行模式</p>
</li>
<li>
<p>re.S 即为 . 并且包括换行符在内的任意字符（. 不包括换行符）</p>
</li>
<li>
<p>re.U 表示特殊字符集 \w, \W, \b, \B, \d, \D, \s, \S 依赖于 Unicode 字符属性数据库</p>
</li>
<li>
<p>re.X 为了增加可读性，忽略空格和 # 后面的注释</p>
</li>
</ol>
<h4 id="findall">findall()</h4>
<p>即：全部找到,返回的是一个列表</p>
<p><strong><em>findall(string[, pos[, endpos]])</em></strong></p>
<p><strong><em>参数：</em></strong></p>
<ol>
<li>
<p>string : 待匹配的字符串。</p>
</li>
<li>
<p>pos : 可选参数，指定字符串的起始位置，默认为 0。</p>
</li>
<li>
<p>endpos : 可选参数，指定字符串的结束位置，默认为字符串的长度。</p>
</li>
</ol>
<pre><code class="language-python">import re

s = 'helloworld hellobeijing'
ret = re.findall('hello\S+',s)
print(ret)

['helloworld', 'hellobeijing']
finditer()
</code></pre>
<p><strong><em>和 findall 类似，在字符串中找到正则表达式所匹配的所有子串，并把它们作为一个迭代器返回。</em></strong></p>
<p><strong><em>re.finditer(pattern, string, flags=0)</em></strong></p>
<p><strong><em>参数：</em></strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pattern</td>
<td>匹配的正则表达式</td>
</tr>
<tr>
<td>string</td>
<td>要匹配的字符串</td>
</tr>
<tr>
<td>flags</td>
<td>标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等  例如：<code>re.S</code>匹配多行</td>
</tr>
</tbody>
</table>
<h4 id="search-与-match">search() 与 match()</h4>
<p>相同点：</p>
<ol>
<li>语法：re.search/match(pattern, string, flags=0)</li>
<li>函数参数说明：</li>
</ol>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pattern</td>
<td>匹配的正则表达式</td>
</tr>
<tr>
<td>string</td>
<td>要匹配的字符串</td>
</tr>
<tr>
<td>flags</td>
<td>标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等  例如：<code>re.S</code>匹配多行</td>
</tr>
</tbody>
</table>
<p>3.可以使用group(num) 或 groups() 匹配对象函数来获取匹配表达式。</p>
<table>
<thead>
<tr>
<th>匹配方法</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>group(num=0)</td>
<td>匹配的整个表达式的字符串，<code>group()</code>可以一次输入多个组号，在这种情况下它将返回一个包含那些组所对应值的元组</td>
</tr>
<tr>
<td>group()</td>
<td>返回一个包含所有小组字符串的元组，从 1 到所含的小组号</td>
</tr>
<tr>
<td>start([group])</td>
<td>方法用于获取分组匹配的子串在整个字符串中的起始位置（子串第一个字符的索引），参数默认值为0</td>
</tr>
<tr>
<td>end([group])</td>
<td>方法用于获取分组匹配的子串在整个字符串中的结束位置（子串最后一个字符的索引+1），参数默认值为0</td>
</tr>
<tr>
<td>span([group])</td>
<td>方法返回<code>(start(group), end(group))</code></td>
</tr>
</tbody>
</table>
<pre><code class="language-python">import re

# re.search
ret = re.search('h..','hello hello world')
print(ret) # 输出结果：&lt;_sre.SRE_Match object; span=(0, 3), match='hel'&gt;
ret1 = re.search('h..','hello hello world').group()
print(ret1) # 输出结果：hel 只输出第一个符合条件的结果
 
# re.match
ret = re.match('asd','asdhskdjfksji')
print(ret) # 输出结果：&lt;_sre.SRE_Match object; span=(0, 3), match='asd'&gt;返回的是一个对象。
ret1 = re.match('asd','asdhskdjfasdksjiasd').group()
print(ret1) # 输出结果：asd 调用.group()方法，只返回匹配的第一个结果。
</code></pre>
<p>不同点：</p>
<ol>
<li>
<p>re.match只匹配字符串的开始，如果字符串开始不符合正则表达式，则匹配失败，函数返回None</p>
</li>
<li>
<p>re.search匹配整个字符串，直到找到一个匹配</p>
</li>
</ol>
<pre><code class="language-python"># re.search
s = 'helloworld hellobeijing'
ret = re.search('hellob\S+',s)
print(ret)
&lt;re.Match object; span=(11, 23), match='hellobeijing'&gt;
 
# re.match
s = 'helloworld hellobeijing'
ret = re.match('hellob\S+',s)
print(ret)

None
</code></pre>
<h4 id="split-分隔符-对比字符串里边的split方法">split() 分隔符 对比字符串里边的split方法。</h4>
<p><strong><em>split 方法按照能够匹配的子串将字符串分割后返回列表，它的使用形式如下：</em></strong></p>
<p>re.split(pattern, string[, maxsplit=0, flags=0])</p>
<table>
<thead>
<tr>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>pattern</td>
<td>匹配的正则表达式</td>
</tr>
<tr>
<td>string</td>
<td>要匹配的字符串</td>
</tr>
<tr>
<td>maxsplit</td>
<td>分组次数，<code>maxsplit=1</code>分隔一次，默认为0，不限制次数</td>
</tr>
<tr>
<td>flags</td>
<td>标志位，用于控制正则表达式的匹配方式，如：是否区分大小写，多行匹配等  例如：<code>re.S</code>匹配多行</td>
</tr>
</tbody>
</table>
<pre><code class="language-python">import re

s = 'helloworld hellobeijing'
ret = re.split('hello',s)
print(ret)

['', 'world ', 'beijing']
</code></pre>
<h4 id="sub">sub()</h4>
<p>替换，类似字符串中的replace()方法。</p>
<p><strong><em>re.sub用于替换字符串中的匹配项。</em></strong></p>
<p><strong><em>语法：</em></strong></p>
<p><strong><em>re.sub(pattern, repl, string, count=0, flags=0)</em></strong></p>
<p><strong><em>参数：</em></strong></p>
<ol>
<li>
<p>pattern : 正则中的模式字符串。</p>
</li>
<li>
<p>repl : 替换的字符串，也可为一个函数。</p>
</li>
<li>
<p>string : 要被查找替换的原始字符串。</p>
</li>
<li>
<p>count : 模式匹配后替换的最大次数，默认 0 表示替换所有的匹配。</p>
</li>
</ol>
<pre><code class="language-python">import re

s = 'helloworld hellobeijing'
ret = re.sub('hello','goodbye',s)
print(ret)

goodbyeworld goodbyebeijing
</code></pre>
<h4 id="compilestrpatternflag">compile(strPattern[,flag])</h4>
<p>这个方法是Pattern类的工厂方法，用于将字符串形式的正则表达式编译为Pattern对象</p>
<p><strong><em>compile 函数用于编译正则表达式，生成一个正则表达式（ Pattern ）对象，供 match() 和 search() 这两个函数使用。</em></strong></p>
<p><strong><em>语法格式为：</em></strong></p>
<p><strong><em>re.compile(pattern[, flags])</em></strong></p>
<p><strong><em>参数：</em></strong></p>
<p><strong><em>pattern : 一个字符串形式的正则表达式</em></strong></p>
<ol>
<li>
<p>flags : 可选，表示匹配模式，比如忽略大小写，多行模式等，具体参数为：</p>
</li>
<li>
<p>re.I 忽略大小写</p>
</li>
<li>
<p>re.L 表示特殊字符集 \w, \W, \b, \B, \s, \S 依赖于当前环境</p>
</li>
<li>
<p>re.M 多行模式</p>
</li>
<li>
<p>re.S 即为 . 并且包括换行符在内的任意字符（. 不包括换行符）</p>
</li>
<li>
<p>re.U 表示特殊字符集 \w, \W, \b, \B, \d, \D, \s, \S 依赖于 Unicode 字符属性数据库</p>
</li>
<li>
<p>re.X 为了增加可读性，忽略空格和 # 后面的注释</p>
</li>
</ol>
<pre><code class="language-python">import re

pattern = re.compile('he.{3}')
pattern.match(s)

&lt;re.Match object; span=(0, 5), match='hello'&gt;
</code></pre>

                </div>
            </article>
        </div>

        
            <div class="next-post">
                <div class="next gt-c-content-color-first">下一篇</div>
                <a href="https://youngyuan1971.github.io/post/Python相关设置(Mac)/" class="post-title gt-a-link">
                    Python相关设置(Mac)
                </a>
            </div>
        

        

        

        

        <div class="site-footer gt-c-content-color-first">
    <div class="slogan gt-c-content-color-first">温故而知新，可以为师矣</div>
    <div class="social-container">
        
            
                <a href="https://github.com/YoungYuan1971" target="_blank">
                    <i class="fab fa-github gt-c-content-color-first"></i>
                </a>
            
        
            
        
            
        
            
        
            
        
            
        
    </div>
    <div class="footer-info">
        Powered by <a href="https://github.com/YoungYuan1971/youngyuan1971.github.io" target="_blank">YoungYuan</a>
    </div>
    <div>
        Theme by <a href="https://imhanjie.com/" target="_blank">imhanjie</a>, Powered by <a
                href="https://github.com/getgridea/gridea" target="_blank">Gridea | <a href="https://youngyuan1971.github.io/atom.xml" target="_blank">RSS</a></a>
    </div>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

    </div>
</div>
</body>
</html>
